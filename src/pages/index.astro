---
import BaseLayout from '../layouts/BaseLayout.astro';
import CodeExample from '../components/CodeExample.astro';
---

<BaseLayout title="Ruby Classifier - Text Classification for Ruby">
  <!-- Hero Section -->
  <section class="bg-gradient-to-b from-gray-50 to-white py-20">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <div class="inline-flex items-center gap-2 bg-ruby/10 text-ruby px-3 py-1 rounded-full text-sm font-medium mb-6">
        <span>v2.2.0</span>
        <span class="text-ruby/60">â€¢</span>
        <span>Bayes + LSI + kNN + TF-IDF + Logistic Regression</span>
      </div>

      <h1 class="text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900 mb-6">
        Text classification for Ruby
        <span class="text-ruby">made simple</span>
      </h1>

      <p class="text-xl text-gray-600 max-w-2xl mx-auto mb-10">
        Bayesian, LSI, kNN, TF-IDF, and Logistic Regression algorithms for categorizing documents,
        detecting spam, analyzing sentiment, and building semantic search.
      </p>

      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a
          href="/docs/tutorials/getting-started"
          class="inline-flex items-center justify-center px-6 py-3 bg-ruby text-white font-semibold rounded-lg hover:bg-ruby-dark transition-colors"
        >
          Get Started
        </a>
        <a
          href="https://github.com/cardmagic/classifier"
          class="inline-flex items-center justify-center px-6 py-3 bg-gray-900 text-white font-semibold rounded-lg hover:bg-gray-800 transition-colors"
        >
          <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
            <path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"/>
          </svg>
          View on GitHub
        </a>
      </div>
    </div>
  </section>

  <!-- Features Section -->
  <section class="py-20">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-8">
        <a href="/docs/guides/bayes/basics" class="text-center group">
          <div class="w-12 h-12 bg-ruby/10 rounded-lg flex items-center justify-center mx-auto mb-4 group-hover:bg-ruby/20 transition-colors">
            <svg class="w-6 h-6 text-ruby" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
            </svg>
          </div>
          <h3 class="font-semibold text-gray-900 mb-2 group-hover:text-ruby transition-colors">Bayesian Classification</h3>
          <p class="text-gray-600 text-sm">Train categories with examples, classify new text with probability scores.</p>
        </a>

        <a href="/docs/guides/lsi/basics" class="text-center group">
          <div class="w-12 h-12 bg-ruby/10 rounded-lg flex items-center justify-center mx-auto mb-4 group-hover:bg-ruby/20 transition-colors">
            <svg class="w-6 h-6 text-ruby" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
            </svg>
          </div>
          <h3 class="font-semibold text-gray-900 mb-2 group-hover:text-ruby transition-colors">Semantic Search</h3>
          <p class="text-gray-600 text-sm">Find related documents using Latent Semantic Indexing and SVD.</p>
        </a>

        <a href="/docs/guides/knn/basics" class="text-center group">
          <div class="w-12 h-12 bg-ruby/10 rounded-lg flex items-center justify-center mx-auto mb-4 group-hover:bg-ruby/20 transition-colors">
            <svg class="w-6 h-6 text-ruby" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
            </svg>
          </div>
          <h3 class="font-semibold text-gray-900 mb-2 group-hover:text-ruby transition-colors">k-Nearest Neighbors</h3>
          <p class="text-gray-600 text-sm">Instance-based classification with interpretable neighbor results.</p>
        </a>

        <a href="/docs/guides/tfidf/basics" class="text-center group">
          <div class="w-12 h-12 bg-ruby/10 rounded-lg flex items-center justify-center mx-auto mb-4 group-hover:bg-ruby/20 transition-colors">
            <svg class="w-6 h-6 text-ruby" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"/>
            </svg>
          </div>
          <h3 class="font-semibold text-gray-900 mb-2 group-hover:text-ruby transition-colors">TF-IDF Vectorizer</h3>
          <p class="text-gray-600 text-sm">Transform text into weighted feature vectors for ML and search.</p>
        </a>

        <a href="/docs/guides/logisticregression/basics" class="text-center group">
          <div class="w-12 h-12 bg-ruby/10 rounded-lg flex items-center justify-center mx-auto mb-4 group-hover:bg-ruby/20 transition-colors">
            <svg class="w-6 h-6 text-ruby" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/>
            </svg>
          </div>
          <h3 class="font-semibold text-gray-900 mb-2 group-hover:text-ruby transition-colors">Logistic Regression</h3>
          <p class="text-gray-600 text-sm">Well-calibrated probabilities with interpretable feature weights.</p>
        </a>
      </div>
    </div>
  </section>

  <!-- Code Examples Section -->
  <section class="py-20 bg-gray-50">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-3xl font-bold text-gray-900 text-center mb-12">
        See it in action
      </h2>

      <div class="grid lg:grid-cols-2 gap-8">
        <CodeExample title="Train a Classifier" description="Create categories and train with example text">
          <Fragment set:html={`<span class="text-pink-400">require</span> <span class="text-green-400">'classifier'</span>

classifier = <span class="text-yellow-400">Classifier::Bayes</span>.new <span class="text-green-400">'Spam'</span>, <span class="text-green-400">'Ham'</span>

<span class="text-gray-500"># Train with keyword arguments</span>
classifier.train(<span class="text-cyan-400">spam:</span> <span class="text-green-400">"Buy cheap viagra now!!!"</span>)
classifier.train(<span class="text-cyan-400">ham:</span> <span class="text-green-400">"Meeting tomorrow at 3pm"</span>)

<span class="text-gray-500"># Or batch train multiple examples</span>
classifier.train(
  <span class="text-cyan-400">spam:</span> [<span class="text-green-400">"You won $1M!"</span>, <span class="text-green-400">"Free money!"</span>],
  <span class="text-cyan-400">ham:</span> [<span class="text-green-400">"Project update"</span>, <span class="text-green-400">"Lunch tomorrow?"</span>]
)`} />
        </CodeExample>

        <CodeExample title="Classify Text" description="Get the best category for new text">
          <Fragment set:html={`classifier.classify <span class="text-green-400">"Claim your free prize now"</span>
<span class="text-gray-500"># =&gt; "Spam"</span>

classifier.classify <span class="text-green-400">"Quarterly review scheduled"</span>
<span class="text-gray-500"># =&gt; "Ham"</span>

<span class="text-gray-500"># Get probability scores</span>
classifier.classifications <span class="text-green-400">"Limited time offer"</span>
<span class="text-gray-500"># =&gt; {"Spam" =&gt; -4.2, "Ham" =&gt; -8.7}</span>`} />
        </CodeExample>

        <CodeExample title="Semantic Search with LSI" description="Find documents by meaning, not just keywords">
          <Fragment set:html={`lsi = <span class="text-yellow-400">Classifier::LSI</span>.new

<span class="text-gray-500"># Add documents with categories</span>
lsi.add(<span class="text-green-400">"Ruby"</span> => <span class="text-green-400">"Ruby programming language"</span>)
lsi.add(<span class="text-green-400">"Python"</span> => <span class="text-green-400">"Python snake reptile"</span>)
lsi.add(<span class="text-green-400">"Ruby"</span> => <span class="text-green-400">"Rails web framework"</span>)

lsi.search <span class="text-green-400">"web development with Ruby"</span>
<span class="text-gray-500"># =&gt; ["Rails web framework", "Ruby programming..."]</span>`} />
        </CodeExample>

        <CodeExample title="k-Nearest Neighbors" description="Instance-based classification with interpretable results">
          <Fragment set:html={`knn = <span class="text-yellow-400">Classifier::KNN</span>.new(<span class="text-cyan-400">k:</span> <span class="text-cyan-400">3</span>)

knn.add(
  <span class="text-cyan-400">spam:</span> [<span class="text-green-400">"Buy now!"</span>, <span class="text-green-400">"You won!"</span>],
  <span class="text-cyan-400">ham:</span> [<span class="text-green-400">"Meeting at 3pm"</span>, <span class="text-green-400">"Review doc"</span>]
)

result = knn.classify_with_neighbors <span class="text-green-400">"Free prize"</span>
result[<span class="text-cyan-400">:category</span>]    <span class="text-gray-500"># =&gt; "spam"</span>
result[<span class="text-cyan-400">:confidence</span>]  <span class="text-gray-500"># =&gt; 0.85</span>`} />
        </CodeExample>

        <CodeExample title="TF-IDF Vectorizer" description="Transform text into weighted feature vectors">
          <Fragment set:html={`tfidf = <span class="text-yellow-400">Classifier::TFIDF</span>.new

tfidf.fit([
  <span class="text-green-400">"Ruby programming language"</span>,
  <span class="text-green-400">"Python programming language"</span>,
  <span class="text-green-400">"Dogs are great pets"</span>
])

vector = tfidf.transform <span class="text-green-400">"Ruby web development"</span>
<span class="text-gray-500"># =&gt; {:ruby =&gt; 0.71, :web =&gt; 0.50, :develop =&gt; 0.50}</span>`} />
        </CodeExample>

        <CodeExample title="Logistic Regression" description="Well-calibrated probabilities for confident decisions">
          <Fragment set:html={`lr = <span class="text-yellow-400">Classifier::LogisticRegression</span>.new([<span class="text-green-400">:spam</span>, <span class="text-green-400">:ham</span>])

lr.train(
  <span class="text-cyan-400">spam:</span> [<span class="text-green-400">"Buy now!"</span>, <span class="text-green-400">"Free money!"</span>],
  <span class="text-cyan-400">ham:</span> [<span class="text-green-400">"Meeting at 3pm"</span>, <span class="text-green-400">"Project update"</span>]
)

<span class="text-gray-500"># Probabilities always sum to 1.0</span>
lr.probabilities <span class="text-green-400">"Claim your prize"</span>
<span class="text-gray-500"># =&gt; {"Spam" =&gt; 0.92, "Ham" =&gt; 0.08}</span>`} />
        </CodeExample>
      </div>
    </div>
  </section>

  <!-- Quick Install Section -->
  <section class="py-20">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h2 class="text-3xl font-bold text-gray-900 mb-6">
        Start in seconds
      </h2>
      <div class="max-w-xl mx-auto">
        <div class="bg-gray-900 rounded-lg p-4 text-left">
          <code class="text-gray-100 font-mono">
            <span class="text-gray-500">$</span> gem install classifier
          </code>
        </div>
        <p class="text-gray-600 mt-4">
          Or add to your Gemfile: <code class="bg-gray-100 px-2 py-1 rounded text-sm">gem 'classifier'</code>
        </p>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="py-20 bg-gray-900">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid md:grid-cols-3 gap-8 text-center">
        <a href="/docs/tutorials" class="group p-6 bg-gray-800 rounded-lg hover:bg-gray-750 transition-colors">
          <h3 class="text-xl font-semibold text-white mb-2 group-hover:text-ruby-light transition-colors">
            Tutorials
          </h3>
          <p class="text-gray-400">
            Step-by-step guides to build real projects with the classifier.
          </p>
        </a>

        <a href="/docs/guides" class="group p-6 bg-gray-800 rounded-lg hover:bg-gray-750 transition-colors">
          <h3 class="text-xl font-semibold text-white mb-2 group-hover:text-ruby-light transition-colors">
            Guides
          </h3>
          <p class="text-gray-400">
            In-depth reference for Bayes, LSI, kNN, TF-IDF, Logistic Regression, and more.
          </p>
        </a>

        <a href="https://github.com/cardmagic/classifier" class="group p-6 bg-gray-800 rounded-lg hover:bg-gray-750 transition-colors">
          <h3 class="text-xl font-semibold text-white mb-2 group-hover:text-ruby-light transition-colors">
            Contribute
          </h3>
          <p class="text-gray-400">
            Join 50+ contributors on GitHub. Issues and PRs welcome!
          </p>
        </a>
      </div>
    </div>
  </section>
</BaseLayout>
